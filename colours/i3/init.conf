# -*- sh -*-      --- (TEMPLATE) ---
#!/bin/sh
set $m Mod4
set $default_gap 15
set $default_outer 15
# workspaces
set $web "1:"
set $term "2:"
set $game "3:"

# proper vim keys
set $up k
set $down j
set $left h
set $right l

# kill focused window
bindsym $m+d kill

# change focus
bindsym $m+$left focus left
bindsym $m+$down focus down
bindsym $m+$up focus up
bindsym $m+$right focus right
bindsym $m+p focus parent

# move focused window
bindsym $m+Left move left
bindsym $m+Down move down
bindsym $m+Up move up
bindsym $m+Right move right

# layout
bindsym $m+equal split v
bindsym $m+Shift+equal split h
bindsym $m+minus layout toggle split
bindsym $m+Shift+minus layout toggle all
bindsym $m+space floating toggle
bindsym $m+Control+space focus mode_toggle
bindsym $m+Shift+space sticky toggle
bindsym f11 fullscreen toggle

# scratchpad
bindsym $m+s scratchpad show
bindsym $m+Shift+s move scratchpad

# switch to workspace
bindsym $m+1 workspace $web
bindsym $m+2 workspace $term
bindsym $m+3 workspace $game
bindsym $m+4 workspace 4
bindsym $m+5 workspace 5
bindsym $m+6 workspace 6
bindsym $m+7 workspace 7
bindsym $m+8 workspace 8
bindsym $m+9 workspace 9
bindsym $m+0 workspace 10
# move focused container to workspace
bindsym $m+Shift+1 move container to workspace $web
bindsym $m+Shift+2 move container to workspace $term
bindsym $m+Shift+3 move container to workspace $game
bindsym $m+Shift+4 move container to workspace 4
bindsym $m+Shift+5 move container to workspace 5
bindsym $m+Shift+6 move container to workspace 6
bindsym $m+Shift+7 move container to workspace 7
bindsym $m+Shift+8 move container to workspace 8
bindsym $m+Shift+9 move container to workspace 9
bindsym $m+Shift+0 move container to workspace 10

# assigned clients
assign [class="Firefox"] $web
assign [class="Emacs"] $term
assign [class="Steam"] $game
#for_window [class="Termite"] floating enable

for_window [class="^.*"] border pixel 0
gaps inner $default_gap
gaps outer $default_outer


floating_modifier $m

# screenshot
bindsym --release Print exec --no-startup-id import ~/pic/ss.png
bindsym --release $m+Print exec --no-startup-id import -window root ~/pic/ss.png
# start a terminal
bindsym $m+grave exec i3-sensible-terminal
# audio
bindsym XF86AudioRaiseVolume exec amixer -q set Master 2dB+ unmute
bindsym XF86AudioLowerVolume exec amixer -q set Master 2dB- unmute
bindsym XF86AudioMute exec amixer -q set Master toggle
# start program launcher
bindsym $m+Return exec rofi -show combi

bindsym $m+Escape mode "system"
mode "system" {
  bindsym s exec --no-startup-id systemctl poweroff -i, mode "default"
	bindsym r exec --no-startup-id systemctl reboot,      mode "default"
	bindsym e exec --no-startup-id i3-msg exit,           mode "default"
	bindsym grave exec --no-startup-id i3-msg restart,    mode "default"
	bindsym c exec --no-startup-id i3-msg reload,         mode "default"

	bindsym Escape "default"
}

bindsym $m+r mode "resize"
mode "resize" {
	bindsym $left resize shrink width 10 px or 10 ppt
	bindsym $down resize grow height 10 px or 10 ppt
	bindsym $up resize shrink height 10 px or 10 ppt
	bindsym $right resize grow width 10 px or 10 ppt
	bindsym Left resize shrink width 10 px or 10 ppt
	bindsym Down resize grow height 10 px or 10 ppt
	bindsym Up resize shrink height 10 px or 10 ppt
	bindsym Right resize grow width 10 px or 10 ppt
	bindsym $m+r mode "default"
	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $m+Tab mode "gaps inner"
mode "gaps inner" {
        bindsym $right   gaps inner current plus 5
        bindsym $left  gaps inner current minus 5
        bindsym Enter gaps inner current set 0

        bindsym Shift+l   gaps inner all plus 5
        bindsym Shift+h  gaps inner all minus 5
        bindsym Shift+Enter gaps inner all set 0

        bindsym Escape mode "default"
}

bindsym $m+Shift+Tab mode "gaps outer"
mode "gaps outer" {
        bindsym $right   gaps outer current plus 5
        bindsym $left  gaps outer current minus 5
        bindsym Enter gaps outer current set 0

        bindsym Shift+$right   gaps outer all plus 5
        bindsym Shift+$left  gaps outer all minus 5
        bindsym Shift+Enter gaps outer all set 0

        bindsym Escape mode "default"
}


# start on web workspace
exec --no-startup-id i3-msg workspace $web
exec --no-startup-id feh --bg-fill $HOME/pic/wall/wall --no-fehbg
exec_always compton -b --config $XDG_CONFIG_HOME/compton.conf
exec_always bar.sh



